[toc]

### 定义

> 变量是程序中用于存储数据的标识符，本质是内存中某个对象的引用（指针）。Python变量无需显式声明类型，类型由赋值的对象动态决定。
>
> **示例**：
>
> ```python
> age = 25          # 整数类型变量
> name = "Alice"    # 字符串类型变量
> scores = [90, 85] # 列表类型变量
> ```

 ### 命名规则

>- **合法命名**：字母/下划线开头，后接字母、数字、下划线。
>- **区分大小写**：`name` 和 `Name` 是不同变量。
>- **禁止关键字**：如 `if`, `for`, `while` 等（共35个保留字）。
>
>**示例**：
>
>```python
>_valid_name = "Tom"   # 合法
>2nd_place = "Bob"     # 非法（数字开头）
>global = 10           # 非法（使用关键字）
>```

### 动态类型

>Python变量可随时重新赋值为不同类型，称为动态类型（Duck Typing）。
>
>**示例**：

>```python
>x = 10          # x是整数
>x = "Hello"     # 现在x是字符串
>x = [1, 2, 3]   # 现在x是列表
>```
>
>------

### 变量是对象的引用

>变量不直接存储数据，而是指向内存中的对象。多个变量可引用同一对象。
>
>**示例（不可变对象）**：
>
>```python
>a = 5
>b = a       # b和a指向同一个整数对象5
>a = 10      # a指向新对象10，b仍指向5
>print(b)    # 输出: 5
>```
>
>**示例（可变对象）**：
>
>```python
>list1 = [1, 2]
>list2 = list1  # list2和list1引用同一个列表
>list1.append(3)
>print(list2)   # 输出: [1, 2, 3]
>```
>
>------

 ### 变量作用域

>- **局部变量**：函数内部定义，仅在函数内有效。
>- **全局变量**：函数外部定义，整个程序可见。
>- `global` 关键字：在函数内修改全局变量。
>- `nonlocal` 关键字：在嵌套函数中修改外层非全局变量。
>
>**示例（作用域）**：
>
>```python
>total = 100  # 全局变量
>
>def update():
>    global total
>   total = 200  # 修改全局变量
>
>update()
>print(total)  # 输出: 200
>```
>
>**示例（nonlocal）**：
>
>```python
>def outer():
>    count = 0
>    def inner():
>        nonlocal count
>        count = 10  # 修改外层变量
>    inner()
>   print(count)    # 输出: 10
>
>outer()
>```
>
>------

 ### 可变 vs 不可变对象

>- **不可变对象**：整数、浮点数、字符串、元组。修改时会创建新对象。
>- **可变对象**：列表、字典、集合。修改时对象本身变化。
>
>**示例（不可变对象）**：
>
>```python
>s = "Hello"
>s += " World"  # 创建新字符串，s指向新对象
>print(s)       # 输出: Hello World
>```
>
>**示例（可变对象）**：
>
>```python
>nums = [1, 2]
>nums.append(3)  # 原列表被修改
>print(nums)     # 输出: [1, 2, 3]
>```
>
>------

### 其他特性

>- **解包赋值**：同时给多个变量赋值。
>- **类型检查**：`type()` 或 `isinstance()`。
>
>**示例（解包）**：
>
>```python
>a, b = 5, "Hi"        # a=5, b="Hi"
>x, y = [10, 20]       # x=10, y=20
>x, y = y, x           # 交换值
>```
>
>**示例（类型检查）**：

>```python
>value = 3.14
>print(type(value))         # <class 'float'>
>print(isinstance(value, float))  # True
>```
>
>------

### 最佳实践

>- 命名有意义：`student_count` 优于 `sc`。
>- 遵循PEP8：变量名使用小写和下划线（`snake_case`）。
>- 避免全局变量：优先使用局部变量，减少副作用。
